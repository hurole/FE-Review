<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>前端路由-哈希模式</title>
    </head>
    <body>
        <ul>
            <li><a href="#/page1">page1</a></li>
            <li><a href="#/page2">page2</a></li>
        </ul>
        <div id="view">

        </div>
        <script type="text/javascript">
            // 浏览器DOM加载完毕 调用load方法
            window.addEventListener("DOMContentLoaded", load);

            function load() {
                // 大部分浏览器加载时（除safari）不会触发hashchange事件。所以这里调用一下
                changeView();
                window.addEventListener('hashchange', changeView)
            }

            function changeView() {
                var hash = location.hash;
                var routerView = document.querySelector('#view');
                switch (hash) {
                    case '#/page1':
                        routerView.innerHTML = 'Page1';
                        break;
                    case '#/page2':
                        routerView.innerHTML = 'Page2';
                        break;
                    default:
                        routerView.innerHTML = 'Home';
                }
            }
        </script>
    </body>
</html>
