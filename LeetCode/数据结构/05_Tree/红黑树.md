## 平衡树

因为二叉搜索树的优势在于查找和删除的效率。平衡的二叉树搜索的事件复杂度 O(logN)，如果二叉树不平衡，就相当于链表，搜索的时间复杂度为 O(N)。

平衡树有 AVL 树和红黑树两种。

### 红黑树

1、所有的节点都是红色或者黑色的

2、根节点为黑色的

3、所有的叶子节点都是值为空的黑色节点

4、红色节点的子节点必须为黑色，所有路径中不能连续出现两个红色节点

5、根节点到叶子节点的路径中，黑色节点的数量相同。

### 红黑树的变换方式

1、变色
红色变成黑色或者黑色变成红色
2、左旋转

3、右旋转

### 红黑树的插入操作

定义新插入的节点为 N（通常定义为红色），它的父节点为 P，它的祖父节点为 G，它的叔叔节点为 U

#### 情况一

插入的节点为根节点，即插入前的红黑树是空树。这种情况直接插入 N，并且对 N 进行变色，从红色变成黑色，以满足红黑树的特性，并且给 N 指定两个黑色，值为空的子节点。

#### 情况二

插入节点 N 时，它的父节点 P 为黑色。给节点 N 指定两个，空的黑色子节点。直接插入 N。

#### 情况三

插入节点 N，P 为红色，U 为红色，此时 G 必为黑色。此时P、U、G换色，但是可能存在G的父节点为红色，此时递归的调整颜色；如果递归到了根节点，仍不符合红黑树特性，就需要进行旋转变换。

#### 情况四

插入节点N，P节点红，U黑，且N节点为左子节点。此时P变成黑色，G变成红色，在进行右旋转

#### 情况五

插入节点N，P父节红，G黑，U黑，N是右子节点。
- 以P为根坐旋转，P作为新插入节点考虑（情况四）
